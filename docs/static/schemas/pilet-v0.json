{
  "$id": "https://docs.piral.io/schemas/pilet-v0.json",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Schema for Pilets",
  "description": "Defines the schema for the pilet.json associated with pilets.",
  "type": "object",
  "required": [],
  "properties": {
    "schemaVersion": {
      "type": "string",
      "enum": [
        "none",
        "v0",
        "v1",
        "v2",
        "v3",
        "mf"
      ],
      "description": "The default output schema to be used when building the pilet."
    },
    "importmapVersions": {
      "type": "string",
      "enum": [
        "all",
        "match-major",
        "any-patch",
        "exact"
      ],
      "description": "The default behavior for implicitly defined versions of shared dependencies."
    },
    "remoteTypesTarget": {
      "description": "The absolute or relative location of the file that is written with the remote types, if any. Default is './src/remote.d.ts'.",
      "oneOf": [
        {
          "type": "boolean",
          "description": "A truthy value indicates that the default value should be used. Otherwise, nothing is written."
        },
        {
          "type": "string",
          "description": "The absolute or relative location of the file with the remote types."
        }
      ]
    },
    "piralInstances": {
      "type": "object",
      "description": "The app shells to be used for debugging the pilet. Each key defines the name of a Piral instance to be selectable.",
      "required": [],
      "properties": {},
      "additionalProperties": {
        "type": "object",
        "description": "The definition of the provided Piral instance.",
        "properties": {
          "selected": {
            "type": "boolean",
            "description": "If provided defines if the app shell is selected. By default, only true if the entry is the first one and all others are false or not specified."
          },
          "port": {
            "type": "number",
            "description": "Defines the default port to use when debugging."
          },
          "path": {
            "type": "string",
            "description": "Defines the path to the emulator package of this app shell. If not given, the emulator package is resolved by the name of the given app shell key."
          },
          "url": {
            "type": "string",
            "description": "Defines the URL to the emulator website of this app shell. If provided, the emulator package is downloaded and updated automatically from the source."
          }
        },
        "required": []
      }
    }
  }
}